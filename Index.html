<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Prathamer's Blog - Save Earth</title>
    <meta name="description" content="Save Earth: There is No Planet B - Insights on environment, sustainability, coding, and personal growth.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üåø</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800&family=Inter:wght@300;400;500;600;700;800&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root{--a:#f0fdf4;--b:#dcfce7;--c:#bbf7d0;--d:#86efac;--e:#4ade80;--f:#22c55e;--g:#16a34a;--h:#15803d;--i:#166534;--j:#14532d;--k:#f8fafc;--l:#f1f5f9;--m:#e2e8f0;--n:#cbd5e1;--o:#94a3b8;--p:#64748b;--q:#475569;--r:#334155;--s:#1e293b;--t:#0f172a;--u:#fef2f2;--v:#fee2e2;--w:#f87171;--x:#ef4444;--y:#dc2626;--z:#fbbf24;--aa:#f59e0b;--ab:#eff6ff;--ac:#dbeafe;--ad:#3b82f6;--ae:#2563eb;--af:#1d4ed8;--ag:#fff;--ah:#000;--ai:'Inter',system-ui,sans-serif;--aj:'Playfair Display',Georgia,serif;--ak:'Fira Code',monospace}
        *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
        html{scroll-behavior:smooth}
        body{font-family:var(--ai);font-size:16px;line-height:1.6;color:var(--s);background:var(--k);min-height:100vh;display:flex;flex-direction:column;-webkit-font-smoothing:antialiased}
        body.modal-open{overflow:hidden}
        img{max-width:100%;height:auto;display:block}
        a{color:inherit;text-decoration:none}
        button{font-family:inherit;cursor:pointer;border:none;background:none}
        input,textarea{font-family:inherit;font-size:inherit}
        ul,ol{list-style:none}
        h1,h2,h3,h4,h5,h6{font-family:var(--aj);font-weight:700;line-height:1.2}
        ::selection{background:rgba(22,163,74,.2);color:var(--i)}
        ::-webkit-scrollbar{width:8px;height:8px}
        ::-webkit-scrollbar-track{background:transparent}
        ::-webkit-scrollbar-thumb{background:var(--n);border-radius:100px}
        .ct{width:100%;max-width:1280px;margin:0 auto;padding:0 1rem}
        @media(min-width:640px){.ct{padding:0 1.5rem}}
        @media(min-width:1024px){.ct{padding:0 2rem}}
        @keyframes fi{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
        @keyframes sp{to{transform:rotate(360deg)}}
        @keyframes hb{0%{transform:scale(1)}14%{transform:scale(1.3)}28%{transform:scale(1)}42%{transform:scale(1.3)}70%{transform:scale(1)}}
        .af{animation:fi .5s ease-out forwards}
        .as{animation:sp 1s linear infinite}
        .ah{animation:hb 1s ease-in-out}
        #pb{position:fixed;top:0;left:0;height:3px;background:linear-gradient(90deg,var(--g),var(--e));z-index:1000;transition:width .1s ease-out}
        .hd{position:sticky;top:0;z-index:100;background:rgba(255,255,255,.95);backdrop-filter:blur(12px);border-bottom:1px solid var(--m)}
        .hdi{display:flex;align-items:center;justify-content:space-between;gap:1rem;height:64px}
        .lg{display:flex;align-items:center;gap:.75rem;flex-shrink:0}
        .lgi{width:40px;height:40px;border-radius:1rem;background:linear-gradient(135deg,var(--f),var(--h));display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(22,163,74,.3)}
        .lgi span{font-size:1.25rem}
        .lgt{display:none}
        @media(min-width:640px){.lgt{display:block}}
        .lgtt{font-family:var(--aj);font-size:1.25rem;font-weight:700;color:var(--t)}
        .lgts{font-size:.625rem;font-weight:600;text-transform:uppercase;letter-spacing:.2em;color:var(--o);margin-top:-2px}
        .sr{flex-grow:1;max-width:28rem;position:relative}
        .sri{width:100%;padding:.625rem 1rem .625rem 2.75rem;background:var(--ag);border:1px solid var(--m);border-radius:1rem;font-size:.875rem;color:var(--t);outline:none;transition:all .2s ease}
        .sri:focus{border-color:var(--f);box-shadow:0 0 0 4px rgba(22,163,74,.1)}
        .sric{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:var(--o)}
        .nv{display:flex;align-items:center;gap:.5rem;flex-shrink:0}
        .um{position:relative}
        .umb{display:flex;align-items:center;gap:.5rem;padding:.375rem .75rem .375rem .375rem;background:var(--l);border-radius:9999px;transition:all .2s ease}
        .umb:hover{background:var(--m)}
        .uma{width:32px;height:32px;border-radius:9999px;overflow:hidden;background:linear-gradient(135deg,var(--e),var(--g));display:flex;align-items:center;justify-content:center;color:#fff;font-size:.875rem;font-weight:600}
        .uma img{width:100%;height:100%;object-fit:cover}
        .umn{display:none;font-size:.875rem;font-weight:500;color:var(--r);max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
        @media(min-width:768px){.umn{display:block}}
        .umd{position:absolute;top:calc(100% + 8px);right:0;min-width:200px;background:var(--ag);border:1px solid var(--m);border-radius:1rem;box-shadow:0 20px 25px -5px rgb(0 0 0/.1);padding:.5rem;opacity:0;visibility:hidden;transform:translateY(-10px);transition:all .2s ease;z-index:150}
        .umd.sh{opacity:1;visibility:visible;transform:translateY(0)}
        .umdi{display:flex;align-items:center;gap:.75rem;width:100%;padding:.625rem .875rem;font-size:.875rem;color:var(--q);border-radius:.75rem;transition:all .15s ease;text-align:left}
        .umdi:hover{background:var(--k);color:var(--t)}
        .umdid:hover{background:var(--u);color:var(--y)}
        .umdd{height:1px;background:var(--l);margin:.5rem 0}
        .ab{display:flex;align-items:center;gap:.5rem}
        .abt{display:flex;align-items:center;gap:.375rem;padding:.5rem 1rem;font-size:.875rem;font-weight:600;border-radius:1rem;transition:all .2s ease}
        .abto{color:var(--q);background:var(--ag);border:1px solid var(--m)}
        .abto:hover{background:var(--k)}
        .abtp{color:var(--ag);background:var(--t)}
        .abtp:hover{background:var(--s)}
        .abt span{display:none}
        @media(min-width:640px){.abt span{display:inline}}
        .tb{display:flex;gap:.25rem;padding:.25rem;background:var(--l);border-radius:1rem;margin-bottom:1rem}
        .tbi{flex:1;display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.625rem 1rem;font-size:.875rem;font-weight:500;color:var(--p);background:transparent;border-radius:.75rem;transition:all .2s ease}
        .tbi:hover{color:var(--r)}
        .tbi.ac{color:var(--t);background:var(--ag);box-shadow:0 1px 2px 0 rgb(0 0 0/.05)}
        .tbc{display:inline-flex;align-items:center;justify-content:center;min-width:20px;height:20px;padding:0 6px;font-size:.75rem;font-weight:600;background:var(--m);color:var(--q);border-radius:9999px}
        .tbi.ac .tbc{background:var(--f);color:var(--ag)}
        .mn{flex-grow:1;padding:2rem 0}
        .mng{display:grid;grid-template-columns:1fr;gap:2rem}
        @media(min-width:1024px){.mng{grid-template-columns:1fr 360px;gap:2.5rem}}
        .ar{background:var(--ag);border-radius:1.25rem;overflow:hidden;box-shadow:0 20px 25px -5px rgb(0 0 0/.1)}
        .arh{position:relative;aspect-ratio:16/9;overflow:hidden;background:var(--m)}
        @media(min-width:1024px){.arh{aspect-ratio:2/1}}
        .ari{width:100%;height:100%;object-fit:cover;transition:transform .7s ease}
        .ar:hover .ari{transform:scale(1.03)}
        .aro{position:absolute;inset:0;background:linear-gradient(to top,rgba(15,23,42,.7),transparent 50%)}
        .arb{position:absolute;top:1rem;left:1rem;right:1rem;display:flex;justify-content:space-between;align-items:flex-start}
        .arc{display:inline-flex;align-items:center;gap:.375rem;padding:.5rem 1rem;background:rgba(255,255,255,.95);color:var(--h);font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;border-radius:9999px;box-shadow:0 10px 15px -3px rgb(0 0 0/.1)}
        .arc.cd{background:rgba(59,130,246,.95);color:var(--ag)}
        .ara{display:flex;align-items:center;gap:.5rem}
        .arv{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:rgba(15,23,42,.8);color:var(--ag);font-size:.875rem;font-weight:600;border-radius:9999px}
        .fb{width:44px;height:44px;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,.95);border-radius:9999px;box-shadow:0 10px 15px -3px rgb(0 0 0/.1);transition:all .2s ease;font-size:1.25rem}
        .fb:hover{transform:scale(1.1)}
        .fb.ac{background:var(--x)}
        .arcn{padding:1.5rem}
        @media(min-width:640px){.arcn{padding:2rem}}
        @media(min-width:1024px){.arcn{padding:2.5rem}}
        .art{font-size:1.5rem;color:var(--t);margin-bottom:1.5rem;line-height:1.3}
        @media(min-width:640px){.art{font-size:2rem}}
        @media(min-width:1024px){.art{font-size:2.25rem}}
        .arm{display:flex;flex-wrap:wrap;align-items:center;gap:1rem;padding-bottom:1.5rem;margin-bottom:1.5rem;border-bottom:1px solid var(--l)}
        .arau{display:flex;align-items:center;gap:.75rem}
        .araua{width:44px;height:44px;border-radius:9999px;object-fit:cover;box-shadow:0 4px 6px -1px rgb(0 0 0/.1)}
        .araun{font-weight:600;color:var(--t)}
        .araur{font-size:.875rem;color:var(--o)}
        .ardv{display:none;width:1px;height:40px;background:var(--m)}
        @media(min-width:640px){.ardv{display:block}}
        .arif{display:flex;align-items:center;gap:1rem;font-size:.875rem;color:var(--p)}
        .arifi{display:flex;align-items:center;gap:.375rem}
        .arsh{display:flex;align-items:center;gap:.5rem;margin-left:auto}
        .arshb{width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:var(--l);color:var(--p);border-radius:1rem;transition:all .2s ease}
        .arshb:hover{background:var(--b);color:var(--h)}
        .arbd{font-size:1.0625rem;line-height:1.8;color:var(--q)}
        .arbd p{margin-bottom:1.5rem}
        .arbd h3{font-size:1.5rem;color:var(--t);margin-top:2.5rem;margin-bottom:1rem}
        .arbd .ld{font-size:1.25rem;color:var(--r);line-height:1.7}
        .dc::first-letter{float:left;font-family:var(--aj);font-size:4rem;line-height:.8;padding-right:.75rem;padding-top:.25rem;color:var(--h);font-weight:700}
        .cb{margin:2rem 0;background:var(--t);border-radius:1rem;overflow:hidden}
        .cbh{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;background:var(--s)}
        .cbd{display:flex;gap:.5rem}
        .cbdt{width:12px;height:12px;border-radius:9999px}
        .cbdr{background:#ff5f56}
        .cbdy{background:#ffbd2e}
        .cbdg{background:#27ca40}
        .cbl{font-size:.75rem;font-weight:500;color:var(--o);text-transform:uppercase}
        .cbb{padding:1.25rem;overflow-x:auto}
        .cb pre{margin:0;font-family:var(--ak);font-size:.875rem;line-height:1.7;color:var(--n)}
        .cb .kw{color:#c792ea}
        .cb .st{color:#c3e88d}
        .cb .fn{color:#82aaff}
        .cb .cm{color:#546e7a}
        .cb .nm{color:#f78c6c}
        .co{margin:2rem 0;padding:1.5rem;background:linear-gradient(135deg,var(--a),rgba(187,247,208,.3));border-radius:1.25rem;border:1px solid rgba(22,163,74,.15)}
        .cobl{background:linear-gradient(135deg,var(--ab),rgba(219,234,254,.5));border-color:rgba(59,130,246,.2)}
        .cot{display:flex;align-items:center;gap:.5rem;font-family:var(--aj);font-size:1.125rem;font-weight:700;color:var(--j);margin-bottom:1rem}
        .cobl .cot{color:var(--af)}
        .col{display:flex;flex-direction:column;gap:.75rem}
        .coi{display:flex;align-items:flex-start;gap:.75rem}
        .con{flex-shrink:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:var(--f);color:var(--ag);font-size:.75rem;font-weight:700;border-radius:.5rem}
        .cobl .con{background:var(--ad)}
        .cotx{color:var(--r);font-size:.9375rem}
        .cotx strong{color:var(--t)}
        .bq{margin:2rem 0;padding-left:1.5rem;border-left:4px solid var(--f);font-style:italic;font-size:1.25rem;color:var(--q)}
        .bq cite{display:block;margin-top:.75rem;font-size:.875rem;font-style:normal;font-weight:600;color:var(--o)}
        .artg{display:flex;flex-wrap:wrap;align-items:center;gap:.5rem;margin-top:2rem;padding-top:1.5rem;border-top:1px solid var(--l)}
        .artgl{font-size:.875rem;font-weight:600;color:var(--o);margin-right:.5rem}
        .tg{padding:.25rem .75rem;background:var(--l);color:var(--q);font-size:.875rem;border-radius:.75rem;transition:all .2s ease}
        .tg:hover{background:var(--b);color:var(--h)}
        .cms{margin-top:2.5rem}
        .cmh{display:flex;align-items:center;gap:.75rem;margin-bottom:1.5rem}
        .cmi{font-size:1.5rem;color:var(--f)}
        .cmt{font-size:1.5rem;color:var(--t)}
        .cmc{padding:.125rem .625rem;background:var(--f);color:var(--ag);font-size:.875rem;font-weight:700;border-radius:9999px}
        .cf{background:var(--ag);border-radius:1.25rem;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 10px 15px -3px rgb(0 0 0/.1)}
        .cfh{display:flex;align-items:center;gap:.75rem;margin-bottom:1.25rem}
        .cfa{width:44px;height:44px;border-radius:9999px;background:linear-gradient(135deg,var(--e),var(--g));display:flex;align-items:center;justify-content:center;box-shadow:0 10px 15px -3px rgb(0 0 0/.1);overflow:hidden;color:#fff;font-size:1.125rem}
        .cfa img{width:100%;height:100%;object-fit:cover}
        .cfi h4{font-family:var(--ai);font-weight:600;color:var(--t)}
        .cfi p{font-size:.875rem;color:var(--o)}
        .cff{display:flex;flex-direction:column;gap:1rem}
        .cfta{width:100%;padding:.75rem 1rem;background:var(--k);border:1px solid var(--m);border-radius:1rem;color:var(--t);outline:none;transition:all .2s ease;resize:none;min-height:100px}
        .cfta:focus{border-color:var(--f);box-shadow:0 0 0 4px rgba(22,163,74,.1)}
        .cfft{display:flex;flex-direction:column;gap:1rem;margin-top:1rem}
        @media(min-width:640px){.cfft{flex-direction:row;align-items:center;justify-content:space-between}}
        .cfht{font-size:.75rem;color:var(--o)}
        .cfb{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.625rem 1.25rem;background:var(--g);color:var(--ag);font-weight:600;border-radius:1rem;box-shadow:0 4px 12px rgba(22,163,74,.25);transition:all .2s ease}
        .cfb:hover{background:var(--h);transform:translateY(-1px)}
        .cfb:disabled{opacity:.6;cursor:not-allowed;transform:none}
        .lr{background:var(--k);border:2px dashed var(--m);border-radius:1.25rem;padding:2rem;text-align:center;margin-bottom:1.5rem}
        .lri{font-size:2.5rem;margin-bottom:.75rem}
        .lrt{font-family:var(--ai);font-size:1.125rem;font-weight:600;color:var(--t);margin-bottom:.5rem}
        .lrtx{font-size:.9375rem;color:var(--p);margin-bottom:1.25rem}
        .lrb{display:inline-flex;align-items:center;gap:.5rem;padding:.625rem 1.5rem;background:var(--g);color:var(--ag);font-weight:600;border-radius:1rem;transition:all .2s ease}
        .lrb:hover{background:var(--h)}
        .cml{display:flex;flex-direction:column;gap:1rem}
        .cmit{background:var(--ag);border-radius:1rem;padding:1.25rem;box-shadow:0 1px 2px 0 rgb(0 0 0/.05);border:1px solid var(--l);animation:fi .5s ease-out forwards}
        .cmin{display:flex;gap:.75rem}
        .cmia{width:40px;height:40px;border-radius:9999px;flex-shrink:0;box-shadow:0 4px 6px -1px rgb(0 0 0/.1)}
        .cmic{flex-grow:1}
        .cmich{display:flex;align-items:center;justify-content:space-between;margin-bottom:.25rem}
        .cmian{font-weight:600;color:var(--t)}
        .cmid{font-size:.75rem;color:var(--o)}
        .cmitx{color:var(--q);line-height:1.6}
        .cme{text-align:center;padding:3rem 1rem}
        .cmei{width:56px;height:56px;margin:0 auto .75rem;background:var(--l);border-radius:9999px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;opacity:.5}
        .cmet{font-family:var(--ai);font-weight:600;color:var(--p);margin-bottom:.25rem}
        .cmetx{font-size:.875rem;color:var(--o)}
        .ld{display:flex;align-items:center;justify-content:center;padding:3rem}
        .lds{width:32px;height:32px;border:4px solid var(--m);border-top-color:var(--f);border-radius:9999px;animation:sp 1s linear infinite}
        .sb{display:flex;flex-direction:column;gap:1.5rem}
        .pw{background:var(--ag);border-radius:1.25rem;overflow:hidden;box-shadow:0 20px 25px -5px rgb(0 0 0/.1)}
        @media(min-width:1024px){.pw{position:sticky;top:5rem}}
        .pwl{max-height:50vh;overflow-y:auto}
        .pwi{display:flex;align-items:flex-start;gap:.75rem;padding:1rem 1.25rem;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease}
        .pwi:not(:last-child){border-bottom:1px solid var(--l)}
        .pwi:hover{background:var(--k);border-left-color:var(--f)}
        .pwi.ac{background:var(--a);border-left-color:var(--f)}
        .pwr{flex-shrink:0;width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:var(--l);color:var(--o);font-size:.8125rem;font-weight:700;border-radius:.75rem;transition:all .2s ease}
        .pwi:hover .pwr,.pwi.ac .pwr{background:var(--f);color:var(--ag)}
        .pwc{flex-grow:1;min-width:0}
        .pwit{font-family:var(--ai);font-size:.875rem;font-weight:500;color:var(--s);line-height:1.4;margin-bottom:.375rem;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;transition:color .2s ease}
        .pwi:hover .pwit,.pwi.ac .pwit{color:var(--h)}
        .pwim{display:flex;align-items:center;gap:.5rem;font-size:.75rem;color:var(--o)}
        .pwimc{padding:.125rem .375rem;background:var(--b);color:var(--h);font-weight:600;border-radius:.375rem}
        .pwimc.cd{background:var(--ac);color:var(--af)}
        .pwf{padding:.75rem 1.25rem;background:var(--k);border-top:1px solid var(--l)}
        .pwfb{width:100%;display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:.875rem;font-weight:500;color:var(--p);transition:color .2s ease}
        .pwfb:hover{color:var(--h)}
        .fe{padding:2rem 1rem;text-align:center}
        .fei{font-size:2.5rem;margin-bottom:.5rem;opacity:.5}
        .fet{font-family:var(--ai);font-weight:600;color:var(--p);margin-bottom:.25rem}
        .fetx{font-size:.8125rem;color:var(--o)}
        .nl{display:none;background:linear-gradient(135deg,var(--g),var(--i));border-radius:1.25rem;padding:1.5rem;color:var(--ag);box-shadow:0 10px 30px rgba(22,163,74,.25)}
        @media(min-width:1024px){.nl{display:block}}
        .nli{width:48px;height:48px;background:rgba(255,255,255,.2);border-radius:1rem;display:flex;align-items:center;justify-content:center;font-size:1.5rem;margin-bottom:1rem}
        .nlt{font-size:1.25rem;margin-bottom:.5rem}
        .nltx{font-size:.875rem;color:var(--b);margin-bottom:1.25rem}
        .nlf{display:flex;flex-direction:column;gap:.75rem}
        .nlin{width:100%;padding:.75rem 1rem;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);border-radius:1rem;color:var(--ag);outline:none}
        .nlin::placeholder{color:rgba(255,255,255,.6)}
        .nlb{width:100%;padding:.75rem;background:var(--ag);color:var(--h);font-weight:700;border-radius:1rem;transition:all .2s ease}
        .nlb:hover{background:var(--a)}
        
        /* FIXED MODAL STYLES */
        .mo{position:fixed;inset:0;background:rgba(15,23,42,.7);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);display:none;align-items:center;justify-content:center;padding:1rem;z-index:9999;opacity:0;transition:opacity .3s ease}
        .mo.sh{display:flex;opacity:1}
        .md{position:relative;width:100%;max-width:420px;background:var(--ag);border-radius:1.25rem;box-shadow:0 25px 50px -12px rgb(0 0 0/.25);transform:scale(.9);transition:transform .3s ease;max-height:90vh;overflow-y:auto;z-index:10000}
        .mo.sh .md{transform:scale(1)}
        .mdh{padding:2rem 2rem 0;text-align:center}
        .mdi{width:64px;height:64px;margin:0 auto 1rem;background:linear-gradient(135deg,var(--b),var(--c));border-radius:1.25rem;display:flex;align-items:center;justify-content:center;font-size:1.75rem}
        .mdt{font-size:1.5rem;color:var(--t);margin-bottom:.5rem}
        .mdst{font-size:.9375rem;color:var(--p)}
        .mdb{padding:1.5rem 2rem 2rem}
        .mdc{position:absolute;top:1rem;right:1rem;width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:var(--l);color:var(--p);border-radius:9999px;font-size:1.25rem;transition:all .2s ease;z-index:10001}
        .mdc:hover{background:var(--m);color:var(--r)}
        .auf{display:flex;flex-direction:column;gap:1rem}
        .fg{display:flex;flex-direction:column;gap:.375rem}
        .fl{font-size:.875rem;font-weight:500;color:var(--r)}
        .fin{width:100%;padding:.875rem 1rem;background:var(--k);border:1px solid var(--m);border-radius:1rem;color:var(--t);outline:none;transition:all .2s ease}
        .fin:focus{border-color:var(--f);box-shadow:0 0 0 4px rgba(22,163,74,.15);background:var(--ag)}
        .fin::placeholder{color:var(--o)}
        .fh{font-size:.8125rem;color:var(--o)}
        .ffg{font-size:.875rem;font-weight:500;color:var(--g);text-align:right;display:block;margin-top:.25rem}
        .ffg:hover{color:var(--h)}
        .mab{display:flex;align-items:center;justify-content:center;gap:.5rem;width:100%;padding:1rem;background:var(--g);color:var(--ag);font-size:1rem;font-weight:600;border-radius:1rem;box-shadow:0 4px 12px rgba(22,163,74,.25);transition:all .2s ease;margin-top:.5rem;border:none;cursor:pointer}
        .mab:hover{background:var(--h);transform:translateY(-2px)}
        .mab:disabled{opacity:.6;cursor:not-allowed;transform:none}
        .adv{display:flex;align-items:center;gap:1rem;margin:1.25rem 0}
        .adv::before,.adv::after{content:'';flex:1;height:1px;background:var(--m)}
        .adv span{font-size:.8125rem;color:var(--o)}
        .gb{display:flex;align-items:center;justify-content:center;gap:.75rem;width:100%;padding:.875rem;background:var(--ag);color:var(--r);font-weight:500;border:1px solid var(--m);border-radius:1rem;transition:all .2s ease;cursor:pointer}
        .gb:hover{background:var(--k);border-color:var(--n)}
        .gb svg{width:20px;height:20px}
        .aft{text-align:center;padding-top:1.25rem;border-top:1px solid var(--l);margin-top:1.25rem}
        .aft p{font-size:.9375rem;color:var(--p)}
        .aft a{font-weight:600;color:var(--g);cursor:pointer}
        .aft a:hover{color:var(--h)}
        .sm{display:flex;flex-direction:column;align-items:center;text-align:center;padding:1rem 0}
        .smi{width:72px;height:72px;background:var(--b);border-radius:9999px;display:flex;align-items:center;justify-content:center;font-size:2rem;margin-bottom:1rem}
        .smt{font-family:var(--ai);font-size:1.25rem;font-weight:600;color:var(--t);margin-bottom:.5rem}
        .smtx{font-size:.9375rem;color:var(--p);margin-bottom:1.5rem}
        .ft{background:var(--t);color:var(--n);margin-top:auto}
        .ftm{padding:3rem 0;display:grid;grid-template-columns:1fr;gap:2rem}
        @media(min-width:768px){.ftm{grid-template-columns:2fr 1fr 1fr}}
        .ftb{max-width:360px}
        .ftl{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}
        .ftli{width:40px;height:40px;background:linear-gradient(135deg,var(--f),var(--h));border-radius:1rem;display:flex;align-items:center;justify-content:center;font-size:1.125rem}
        .ftlt{font-size:1.125rem;color:var(--ag)}
        .ftls{font-size:.625rem;font-weight:600;text-transform:uppercase;letter-spacing:.2em;color:var(--p)}
        .ftd{font-size:.9375rem;color:var(--o);line-height:1.7;margin-bottom:1.25rem}
        .fts{display:flex;gap:.5rem}
        .ftsl{width:36px;height:36px;background:var(--s);border-radius:.75rem;display:flex;align-items:center;justify-content:center;color:var(--o);transition:all .2s ease}
        .ftsl:hover{background:var(--g);color:var(--ag)}
        .ftlk h5{font-family:var(--ai);font-size:.8125rem;font-weight:600;color:var(--ag);text-transform:uppercase;letter-spacing:.1em;margin-bottom:1rem}
        .ftlk ul{display:flex;flex-direction:column;gap:.5rem}
        .ftlk a{font-size:.9375rem;color:var(--o);transition:color .2s ease}
        .ftlk a:hover{color:var(--e)}
        .ftbt{padding:1.25rem 0;border-top:1px solid var(--s);display:flex;flex-direction:column;gap:.5rem;align-items:center;text-align:center}
        @media(min-width:640px){.ftbt{flex-direction:row;justify-content:space-between}}
        .ftcp,.ftmd{font-size:.875rem;color:var(--p)}
        .ftmd span{color:var(--x)}
        .ts{position:fixed;bottom:1.25rem;right:1.25rem;display:flex;align-items:center;gap:.75rem;padding:1rem 1.25rem;background:var(--t);color:var(--ag);border-radius:1rem;box-shadow:0 25px 50px -12px rgb(0 0 0/.25);border-left:4px solid var(--f);max-width:340px;transform:translateY(100px);opacity:0;visibility:hidden;transition:all .3s ease;z-index:10002}
        .ts.sh{transform:translateY(0);opacity:1;visibility:visible}
        .ts.er{border-left-color:var(--x)}
        .ts.wr{border-left-color:var(--aa)}
        .tsi{font-size:1.25rem}
        .tsm{font-size:.9375rem;font-weight:500}
    </style>
</head>
<body>
    <div id="pb"></div>
    
    <!-- Header -->
    <header class="hd">
        <div class="ct hdi">
            <a href="/" class="lg" onclick="location.reload()">
                <div class="lgi"><span>üåø</span></div>
                <div class="lgt">
                    <div class="lgtt">Prathamer</div>
                    <div class="lgts">Blog</div>
                </div>
            </a>
            <div class="sr">
                <input type="text" id="si" class="sri" placeholder="Search articles...">
                <span class="sric">üîç</span>
            </div>
            <nav class="nv">
                <div id="ab" class="ab">
                    <button class="abt abto" onclick="openModal('signin')"><span>Sign In</span></button>
                    <button class="abt abtp" onclick="openModal('signup')">üë§ <span>Sign Up</span></button>
                </div>
                <div id="um" class="um" style="display:none">
                    <button class="umb" onclick="toggleUserMenu()">
                        <div id="ua" class="uma">üë§</div>
                        <span id="un" class="umn">User</span>
                    </button>
                    <div id="ud" class="umd">
                        <button class="umdi" onclick="showFavorites()">‚ù§Ô∏è My Favorites</button>
                        <button class="umdi">‚öôÔ∏è Settings</button>
                        <div class="umdd"></div>
                        <button class="umdi umdid" onclick="signOutUser()">üö™ Sign Out</button>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="mn">
        <div class="ct">
            <div class="mng">
                <div class="article-column">
                    <article class="ar" id="ar">
                        <div class="arh">
                            <img id="ai" src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=1600&q=80" alt="Article" class="ari">
                            <div class="aro"></div>
                            <div class="arb">
                                <span id="act" class="arc">üè∑Ô∏è Environment</span>
                                <div class="ara">
                                    <div class="arv"><span>üëÅÔ∏è</span><span id="vc">‚Äî</span></div>
                                    <button id="fvb" class="fb" onclick="toggleFavorite()" title="Add to favorites">ü§ç</button>
                                </div>
                            </div>
                        </div>
                        <div class="arcn">
                            <h1 id="att" class="art">Save Earth: There is No Planet B</h1>
                            <div class="arm">
                                <div class="arau">
                                    <img id="aav" src="https://ui-avatars.com/api/?name=Prathamer&background=166534&color=fff&bold=true&size=96" alt="Author" class="araua">
                                    <div>
                                        <div id="aan" class="araun">Prathamer</div>
                                        <div class="araur">Author</div>
                                    </div>
                                </div>
                                <div class="ardv"></div>
                                <div class="arif">
                                    <span class="arifi">üìÖ <span id="adt">Oct 24, 2023</span></span>
                                    <span class="arifi">‚è±Ô∏è 5 min</span>
                                </div>
                                <div class="arsh">
                                    <button class="arshb" onclick="shareTwitter()" title="Share">ùïè</button>
                                    <button class="arshb" onclick="copyLink()" title="Copy">üîó</button>
                                </div>
                            </div>
                            <div id="abd" class="arbd"></div>
                            <div id="atg" class="artg"></div>
                        </div>
                    </article>

                    <section class="cms" id="cms">
                        <div class="cmh">
                            <span class="cmi">üí¨</span>
                            <h2 class="cmt">Discussion</h2>
                            <span id="cc" class="cmc">0</span>
                        </div>
                        <div id="lr" class="lr" style="display:none">
                            <div class="lri">üîê</div>
                            <h4 class="lrt">Sign in to join</h4>
                            <p class="lrtx">Create an account to comment and save favorites.</p>
                            <button class="lrb" onclick="openModal('signin')">Sign In</button>
                        </div>
                        <form id="cfrm" class="cf">
                            <div class="cfh">
                                <div id="cfa" class="cfa">üë§</div>
                                <div class="cfi">
                                    <h4 id="cfn">Join the conversation</h4>
                                    <p>Share your thoughts</p>
                                </div>
                            </div>
                            <div class="cff">
                                <textarea id="ctx" class="cfta" placeholder="What are your thoughts?" rows="3" required></textarea>
                            </div>
                            <div class="cfft">
                                <p class="cfht">Be respectful</p>
                                <button type="submit" class="cfb" id="csb">‚úàÔ∏è Post</button>
                            </div>
                        </form>
                        <div id="clt" class="cml">
                            <div class="ld"><div class="lds"></div></div>
                        </div>
                    </section>
                </div>

                <aside class="sb">
                    <div class="pw">
                        <div style="padding:1rem 1rem 0">
                            <div class="tb">
                                <button id="tt" class="tbi ac" onclick="switchTab('trending')">üìà Trending</button>
                                <button id="tf" class="tbi" onclick="switchTab('favorites')">‚ù§Ô∏è Favorites <span id="fc" class="tbc">0</span></button>
                            </div>
                        </div>
                        <div id="tc">
                            <div id="tl" class="pwl"><div class="ld"><div class="lds"></div></div></div>
                        </div>
                        <div id="fvc" style="display:none">
                            <div id="fl" class="pwl">
                                <div class="fe">
                                    <div class="fei">üíî</div>
                                    <p class="fet">No favorites yet</p>
                                    <p class="fetx">Sign in to save posts</p>
                                </div>
                            </div>
                        </div>
                        <div class="pwf">
                            <button class="pwfb" onclick="window.scrollTo({top:0,behavior:'smooth'})">‚¨ÜÔ∏è Back to Top</button>
                        </div>
                    </div>
                    <div class="nl">
                        <div class="nli">‚úâÔ∏è</div>
                        <h4 class="nlt">Stay Updated</h4>
                        <p class="nltx">Get the latest posts delivered to your inbox.</p>
                        <form class="nlf" id="nlf">
                            <input type="email" class="nlin" placeholder="your@email.com" required>
                            <button type="submit" class="nlb">Subscribe Free</button>
                        </form>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="ft">
        <div class="ct">
            <div class="ftm">
                <div class="ftb">
                    <div class="ftl">
                        <div class="ftli">üåø</div>
                        <div>
                            <div class="ftlt">Prathamer</div>
                            <div class="ftls">Blog</div>
                        </div>
                    </div>
                    <p class="ftd">Sharing insights on environment, sustainability, coding, and personal growth.</p>
                    <div class="fts">
                        <a href="#" class="ftsl">ùïè</a>
                        <a href="#" class="ftsl">üì∑</a>
                        <a href="#" class="ftsl">üíº</a>
                    </div>
                </div>
                <div class="ftlk">
                    <h5>Quick Links</h5>
                    <ul>
                        <li><a href="#">Home</a></li>
                        <li><a href="#">About</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>
                <div class="ftlk">
                    <h5>Categories</h5>
                    <ul>
                        <li><a href="#">Environment</a></li>
                        <li><a href="#">Coding</a></li>
                        <li><a href="#">Lifestyle</a></li>
                    </ul>
                </div>
            </div>
            <div class="ftbt">
                <p class="ftcp">¬© 2026 Prathamer's Blog</p>
                <p class="ftmd">Made with <span>‚ù§Ô∏è</span> for Earth</p>
            </div>
        </div>
    </footer>

    <!-- Toast -->
    <div id="ts" class="ts">
        <span id="tsi" class="tsi">‚úì</span>
        <span id="tsm" class="tsm">Success!</span>
    </div>

    <!-- Sign In Modal -->
    <div id="signin-modal" class="mo">
        <div class="md">
            <button class="mdc" onclick="closeModal('signin')">‚úï</button>
            <div class="mdh">
                <div class="mdi">üåø</div>
                <h2 class="mdt">Welcome Back</h2>
                <p class="mdst">Sign in to continue</p>
            </div>
            <div class="mdb">
                <form id="signin-form" class="auf">
                    <div class="fg">
                        <label class="fl">Email</label>
                        <input type="email" id="signin-email" class="fin" placeholder="you@example.com" required>
                    </div>
                    <div class="fg">
                        <label class="fl">Password</label>
                        <input type="password" id="signin-password" class="fin" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                    </div>
                    <a class="ffg" onclick="openModal('forgot');closeModal('signin');">Forgot password?</a>
                    <button type="submit" class="mab" id="signin-btn">Sign In</button>
                </form>
                <div class="adv"><span>or</span></div>
                <button class="gb" onclick="signInWithGoogle()">
                    <svg viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
                    Continue with Google
                </button>
                <div class="aft">
                    <p>Don't have an account? <a onclick="openModal('signup');closeModal('signin');">Sign up</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Sign Up Modal -->
    <div id="signup-modal" class="mo">
        <div class="md">
            <button class="mdc" onclick="closeModal('signup')">‚úï</button>
            <div class="mdh">
                <div class="mdi">üöÄ</div>
                <h2 class="mdt">Create Account</h2>
                <p class="mdst">Join our community</p>
            </div>
            <div class="mdb">
                <form id="signup-form" class="auf">
                    <div class="fg">
                        <label class="fl">Full Name</label>
                        <input type="text" id="signup-name" class="fin" placeholder="John Doe" required>
                    </div>
                    <div class="fg">
                        <label class="fl">Email</label>
                        <input type="email" id="signup-email" class="fin" placeholder="you@example.com" required>
                    </div>
                    <div class="fg">
                        <label class="fl">Password</label>
                        <input type="password" id="signup-password" class="fin" placeholder="Min 6 characters" required minlength="6">
                        <span class="fh">Must be at least 6 characters</span>
                    </div>
                    <button type="submit" class="mab" id="signup-btn">Create Account</button>
                </form>
                <div class="adv"><span>or</span></div>
                <button class="gb" onclick="signInWithGoogle()">
                    <svg viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
                    Continue with Google
                </button>
                <div class="aft">
                    <p>Already have an account? <a onclick="openModal('signin');closeModal('signup');">Sign in</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div id="forgot-modal" class="mo">
        <div class="md">
            <button class="mdc" onclick="closeModal('forgot')">‚úï</button>
            <div class="mdh">
                <div class="mdi">üîë</div>
                <h2 class="mdt">Reset Password</h2>
                <p class="mdst">Enter your email</p>
            </div>
            <div class="mdb">
                <div id="forgot-form-container">
                    <form id="forgot-form" class="auf">
                        <div class="fg">
                            <label class="fl">Email</label>
                            <input type="email" id="forgot-email" class="fin" placeholder="you@example.com" required>
                        </div>
                        <button type="submit" class="mab" id="forgot-btn">Send Reset Link</button>
                    </form>
                </div>
                <div id="forgot-success" class="sm" style="display:none">
                    <div class="smi">‚úÖ</div>
                    <h3 class="smt">Check your email</h3>
                    <p class="smtx">We've sent a password reset link.</p>
                    <button class="mab" onclick="closeModal('forgot')">Got it</button>
                </div>
                <div class="aft">
                    <p>Remember your password? <a onclick="openModal('signin');closeModal('forgot');">Sign in</a></p>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        import{initializeApp}from"https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
        import{getAuth,createUserWithEmailAndPassword,signInWithEmailAndPassword,signOut,onAuthStateChanged,sendPasswordResetEmail,updateProfile,GoogleAuthProvider,signInWithPopup}from"https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";
        import{getDatabase,ref,push,set,remove,onValue,runTransaction}from"https://www.gstatic.com/firebasejs/10.7.0/firebase-database.js";

        const firebaseConfig={apiKey:"AIzaSyCZNXuHg15Ns3ydQ8yd6VOjm58sjfH2dUE",authDomain:"prathamersblog.firebaseapp.com",databaseURL:"https://my-blog-server-ed755-default-rtdb.firebaseio.com/",projectId:"prathamersblog",storageBucket:"prathamersblog.firebasestorage.app",messagingSenderId:"632179269904",appId:"1:632179269904:web:64e4beb224ad1ed79e4595"};
        
        const app=initializeApp(firebaseConfig);
        const auth=getAuth(app);
        const db=getDatabase(app);
        const googleProvider=new GoogleAuthProvider();

        const badWords=['fuck','shit','bitch','asshole','idiot','stupid','sex','porn'];
        let currentUser=null;
        let activePostId='save-earth-001';
        let allPosts=[];
        let userFavorites=[];

        const defaultPosts=[
            {id:'save-earth-001',title:"Save Earth: There is No Planet B",category:"Environment",isCoding:false,image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=1600&q=80",author:"Prathamer",date:"Oct 24, 2023",views:1200,tags:['environment','sustainability'],content:'<p class="ld dc">We often take our planet for granted. Climate change is no longer a distant threat; it is happening right now.</p><p>Our oceans are filling with plastic, and our wildlife is disappearing. But it\'s not too late to act.</p><h3>Why We Need to Act Now</h3><p>The Earth provides us with everything we need. By protecting it, we are protecting our future.</p><div class="co"><h4 class="cot">üí° The 3 R\'s</h4><div class="col"><div class="coi"><span class="con">1</span><p class="cotx"><strong>Reduce</strong> ‚Äî Buy less</p></div><div class="coi"><span class="con">2</span><p class="cotx"><strong>Reuse</strong> ‚Äî Find new uses</p></div><div class="coi"><span class="con">3</span><p class="cotx"><strong>Recycle</strong> ‚Äî Dispose properly</p></div></div></div><blockquote class="bq">"The Earth does not belong to us: we belong to the Earth."<cite>‚Äî Chief Seattle</cite></blockquote>'},
            {id:'js-fundamentals-001',title:"JavaScript Fundamentals: A Complete Guide",category:"Coding",isCoding:true,image:"https://images.unsplash.com/photo-1627398242454-45a1465c2479?w=1600&q=80",author:"Prathamer",date:"Jan 10, 2026",views:2450,tags:['javascript','coding','web'],content:'<p class="ld dc">JavaScript is the backbone of modern web development. Let\'s cover the core concepts.</p><h3>Variables and Data Types</h3><div class="cb"><div class="cbh"><div class="cbd"><span class="cbdt cbdr"></span><span class="cbdt cbdy"></span><span class="cbdt cbdg"></span></div><span class="cbl">JavaScript</span></div><div class="cbb"><pre><span class="kw">let</span> name = <span class="st">"Prathamer"</span>;\n<span class="kw">const</span> PI = <span class="nm">3.14159</span>;\n<span class="kw">let</span> isActive = <span class="kw">true</span>;</pre></div></div><div class="co cobl"><h4 class="cot">üí° Pro Tip</h4><div class="col"><div class="coi"><span class="con">1</span><p class="cotx">Use <strong>const</strong> by default</p></div><div class="coi"><span class="con">2</span><p class="cotx">Use <strong>let</strong> only when reassigning</p></div></div></div>'},
            {id:'react-hooks-001',title:"Mastering React Hooks: useState & useEffect",category:"Coding",isCoding:true,image:"https://images.unsplash.com/photo-1633356122544-f134324a6cee?w=1600&q=80",author:"Prathamer",date:"Jan 8, 2026",views:1890,tags:['react','hooks','frontend'],content:'<p class="ld dc">React Hooks revolutionized how we write components.</p><h3>useState Hook</h3><div class="cb"><div class="cbh"><div class="cbd"><span class="cbdt cbdr"></span><span class="cbdt cbdy"></span><span class="cbdt cbdg"></span></div><span class="cbl">React</span></div><div class="cbb"><pre><span class="kw">const</span> [count, setCount] = <span class="fn">useState</span>(<span class="nm">0</span>);</pre></div></div>'},
            {id:'python-ml-001',title:"Python for Machine Learning: Getting Started",category:"Coding",isCoding:true,image:"https://images.unsplash.com/photo-1526379095098-d400fd0bf935?w=1600&q=80",author:"Harshal Patil",date:"Jan 5, 2026",views:1650,tags:['python','machine learning','AI'],content:'<p class="ld dc">Python has become the go-to language for machine learning.</p><div class="cb"><div class="cbh"><div class="cbd"><span class="cbdt cbdr"></span><span class="cbdt cbdy"></span><span class="cbdt cbdg"></span></div><span class="cbl">Python</span></div><div class="cbb"><pre><span class="kw">import</span> numpy <span class="kw">as</span> np\n<span class="kw">import</span> pandas <span class="kw">as</span> pd</pre></div></div>'},
            {id:'css-grid-001',title:"CSS Grid: Build Modern Responsive Layouts",category:"Coding",isCoding:true,image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=1600&q=80",author:"Prathamer",date:"Dec 28, 2025",views:1420,tags:['css','grid','responsive'],content:'<p class="ld dc">CSS Grid makes creating complex layouts easier than ever.</p><div class="cb"><div class="cbh"><div class="cbd"><span class="cbdt cbdr"></span><span class="cbdt cbdy"></span><span class="cbdt cbdg"></span></div><span class="cbl">CSS</span></div><div class="cbb"><pre><span class="fn">.container</span> {\n  <span class="kw">display</span>: grid;\n  <span class="kw">grid-template-columns</span>: <span class="fn">repeat</span>(<span class="nm">3</span>, <span class="nm">1</span>fr);\n}</pre></div></div>'},
            {id:'git-basics-001',title:"Git & GitHub: Version Control for Beginners",category:"Coding",isCoding:true,image:"https://images.unsplash.com/photo-1556075798-4825dfaaf498?w=1600&q=80",author:"Harshal Patil",date:"Dec 20, 2025",views:980,tags:['git','github'],content:'<p class="ld dc">Git is the most widely used version control system.</p><div class="cb"><div class="cbh"><div class="cbd"><span class="cbdt cbdr"></span><span class="cbdt cbdy"></span><span class="cbdt cbdg"></span></div><span class="cbl">Bash</span></div><div class="cbb"><pre>git init\ngit add .\ngit commit -m <span class="st">"Initial commit"</span></pre></div></div>'},
            {id:'meditation-001',title:"Meditation for Beginners: Finding Inner Peace",category:"Lifestyle",isCoding:false,image:"https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=1600&q=80",author:"Prathamer",date:"Dec 10, 2025",views:620,tags:['meditation','mindfulness'],content:'<p class="ld dc">In our fast-paced world, meditation offers a sanctuary of calm.</p>'}
        ];

        allPosts=[...defaultPosts];

        // DOM Elements
        const $=id=>document.getElementById(id);
        const el={
            pb:$('pb'),si:$('si'),ai:$('ai'),act:$('act'),att:$('att'),abd:$('abd'),atg:$('atg'),
            aav:$('aav'),aan:$('aan'),adt:$('adt'),vc:$('vc'),fvb:$('fvb'),cc:$('cc'),
            cfrm:$('cfrm'),ctx:$('ctx'),csb:$('csb'),clt:$('clt'),cfa:$('cfa'),cfn:$('cfn'),
            lr:$('lr'),tl:$('tl'),fl:$('fl'),fc:$('fc'),tc:$('tc'),fvc:$('fvc'),tt:$('tt'),
            tf:$('tf'),ab:$('ab'),um:$('um'),ua:$('ua'),un:$('un'),ud:$('ud'),ts:$('ts'),
            tsi:$('tsi'),tsm:$('tsm'),nlf:$('nlf')
        };

        // Utility Functions
        function showToast(msg,type){
            type=type||'success';
            el.tsm.textContent=msg;
            el.tsi.textContent=type==='error'?'‚úï':type==='warning'?'‚ö†Ô∏è':'‚úì';
            el.ts.className='ts sh'+(type!=='success'?' '+(type==='error'?'er':'wr'):'');
            setTimeout(function(){el.ts.classList.remove('sh')},3500);
        }

        function formatDate(ts){
            return new Date(ts).toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'});
        }

        function escapeHtml(t){
            var d=document.createElement('div');
            d.textContent=t;
            return d.innerHTML;
        }

        function hasBadWords(t){
            var l=t.toLowerCase();
            for(var i=0;i<badWords.length;i++){
                if(l.indexOf(badWords[i])!==-1)return true;
            }
            return false;
        }

        // Progress Bar
        window.addEventListener('scroll',function(){
            var s=document.body.scrollTop||document.documentElement.scrollTop;
            var h=document.documentElement.scrollHeight-document.documentElement.clientHeight;
            el.pb.style.width=(h>0?(s/h)*100:0)+'%';
        });

        // Modal Functions - FIXED
        window.openModal=function(type){
            document.body.classList.add('modal-open');
            var modal=$(type+'-modal');
            if(modal)modal.classList.add('sh');
        };

        window.closeModal=function(type){
            document.body.classList.remove('modal-open');
            var modal=$(type+'-modal');
            if(modal)modal.classList.remove('sh');
            if(type==='forgot'){
                $('forgot-form-container').style.display='block';
                $('forgot-success').style.display='none';
            }
        };

        // Close modal when clicking overlay (not the modal content)
        document.querySelectorAll('.mo').forEach(function(overlay){
            overlay.addEventListener('click',function(e){
                if(e.target===overlay){
                    var id=overlay.id.replace('-modal','');
                    closeModal(id);
                }
            });
        });

        // Prevent modal content clicks from closing
        document.querySelectorAll('.md').forEach(function(modal){
            modal.addEventListener('click',function(e){
                e.stopPropagation();
            });
        });

        document.addEventListener('keydown',function(e){
            if(e.key==='Escape'){
                closeModal('signin');
                closeModal('signup');
                closeModal('forgot');
            }
        });

        // User Menu
        window.toggleUserMenu=function(){
            el.ud.classList.toggle('sh');
        };

        document.addEventListener('click',function(e){
            if(!e.target.closest('.um'))el.ud.classList.remove('sh');
        });

        // Auth Error Messages
        function getAuthError(code){
            var msgs={
                'auth/email-already-in-use':'Email already registered',
                'auth/invalid-email':'Invalid email',
                'auth/weak-password':'Password too weak',
                'auth/user-not-found':'No account found',
                'auth/wrong-password':'Incorrect password',
                'auth/invalid-credential':'Invalid credentials',
                'auth/too-many-requests':'Too many attempts'
            };
            return msgs[code]||'An error occurred';
        }

        // Sign In
        $('signin-form').addEventListener('submit',function(e){
            e.preventDefault();
            var email=$('signin-email').value;
            var pass=$('signin-password').value;
            var btn=$('signin-btn');
            btn.disabled=true;
            btn.textContent='Signing in...';
            signInWithEmailAndPassword(auth,email,pass).then(function(){
                closeModal('signin');
                showToast('Welcome back! üëã');
            }).catch(function(err){
                showToast(getAuthError(err.code),'error');
            }).finally(function(){
                btn.disabled=false;
                btn.textContent='Sign In';
            });
        });

        // Sign Up
        $('signup-form').addEventListener('submit',function(e){
            e.preventDefault();
            var name=$('signup-name').value;
            var email=$('signup-email').value;
            var pass=$('signup-password').value;
            var btn=$('signup-btn');
            btn.disabled=true;
            btn.textContent='Creating...';
            createUserWithEmailAndPassword(auth,email,pass).then(function(cred){
                return updateProfile(cred.user,{displayName:name});
            }).then(function(){
                closeModal('signup');
                showToast('Account created! üéâ');
            }).catch(function(err){
                showToast(getAuthError(err.code),'error');
            }).finally(function(){
                btn.disabled=false;
                btn.textContent='Create Account';
            });
        });

        // Forgot Password
        $('forgot-form').addEventListener('submit',function(e){
            e.preventDefault();
            var email=$('forgot-email').value;
            var btn=$('forgot-btn');
            btn.disabled=true;
            btn.textContent='Sending...';
            sendPasswordResetEmail(auth,email).then(function(){
                $('forgot-form-container').style.display='none';
                $('forgot-success').style.display='block';
            }).catch(function(err){
                showToast(getAuthError(err.code),'error');
            }).finally(function(){
                btn.disabled=false;
                btn.textContent='Send Reset Link';
            });
        });

        // Google Sign In
        window.signInWithGoogle=function(){
            signInWithPopup(auth,googleProvider).then(function(){
                closeModal('signin');
                closeModal('signup');
                showToast('Welcome! üéâ');
            }).catch(function(err){
                if(err.code!=='auth/popup-closed-by-user'){
                    showToast(getAuthError(err.code),'error');
                }
            });
        };

        // Sign Out
        window.signOutUser=function(){
            signOut(auth).then(function(){
                el.ud.classList.remove('sh');
                showToast('Signed out');
            });
        };

        // Auth State
        onAuthStateChanged(auth,function(user){
            currentUser=user;
            if(user){
                el.ab.style.display='none';
                el.um.style.display='block';
                el.cfrm.style.display='block';
                el.lr.style.display='none';
                el.un.textContent=user.displayName||user.email.split('@')[0];
                if(user.photoURL){
                    el.ua.innerHTML='<img src="'+user.photoURL+'" alt="Avatar">';
                }else{
                    el.ua.innerHTML=(user.displayName||user.email)[0].toUpperCase();
                }
                el.cfn.textContent=user.displayName||'You';
                if(user.photoURL){
                    el.cfa.innerHTML='<img src="'+user.photoURL+'" alt="Avatar">';
                }else{
                    el.cfa.innerHTML=(user.displayName||user.email)[0].toUpperCase();
                }
                loadFavorites(user.uid);
            }else{
                el.ab.style.display='flex';
                el.um.style.display='none';
                el.cfrm.style.display='none';
                el.lr.style.display='block';
                userFavorites=[];
                updateFavUI();
                updateFavBtn();
            }
        });

        // Favorites
        function loadFavorites(uid){
            var favRef=ref(db,'users/'+uid+'/favorites');
            onValue(favRef,function(snap){
                var data=snap.val();
                userFavorites=data?Object.keys(data):[];
                updateFavUI();
                updateFavBtn();
            });
        }

        function updateFavUI(){
            el.fc.textContent=userFavorites.length;
            renderFavorites();
        }

        function updateFavBtn(){
            var isFav=userFavorites.indexOf(activePostId)!==-1;
            el.fvb.innerHTML=isFav?'‚ù§Ô∏è':'ü§ç';
            el.fvb.classList.toggle('ac',isFav);
        }

        window.toggleFavorite=function(){
            if(!currentUser){
                showToast('Please sign in','warning');
                openModal('signin');
                return;
            }
            var favRef=ref(db,'users/'+currentUser.uid+'/favorites/'+activePostId);
            var isFav=userFavorites.indexOf(activePostId)!==-1;
            if(isFav){
                remove(favRef).then(function(){showToast('Removed from favorites')});
            }else{
                set(favRef,{postId:activePostId,addedAt:Date.now()}).then(function(){
                    el.fvb.classList.add('ah');
                    setTimeout(function(){el.fvb.classList.remove('ah')},1000);
                    showToast('Added to favorites! ‚ù§Ô∏è');
                });
            }
        };

        function renderFavorites(){
            if(userFavorites.length===0){
                el.fl.innerHTML='<div class="fe"><div class="fei">üíî</div><p class="fet">No favorites yet</p><p class="fetx">'+(currentUser?'Click the heart to save':'Sign in to save')+'</p></div>';
                return;
            }
            var favPosts=allPosts.filter(function(p){return userFavorites.indexOf(p.id)!==-1});
            el.fl.innerHTML=favPosts.map(function(p){
                return'<div class="pwi '+(p.id===activePostId?'ac':'')+'" onclick="loadPost(\''+p.id+'\')"><span class="pwr" style="background:var(--v);color:var(--x)">‚ù§Ô∏è</span><div class="pwc"><h4 class="pwit">'+escapeHtml(p.title)+'</h4><div class="pwim"><span>'+(p.views||0).toLocaleString()+' views</span><span class="pwimc '+(p.isCoding?'cd':'')+'">'+p.category+'</span></div></div></div>';
            }).join('');
        }

        window.showFavorites=function(){
            el.ud.classList.remove('sh');
            switchTab('favorites');
        };

        // Tabs
        window.switchTab=function(tab){
            el.tt.classList.toggle('ac',tab==='trending');
            el.tf.classList.toggle('ac',tab==='favorites');
            el.tc.style.display=tab==='trending'?'block':'none';
            el.fvc.style.display=tab==='favorites'?'block':'none';
            if(tab==='favorites'&&!currentUser){
                el.fl.innerHTML='<div class="fe"><div class="fei">üîê</div><p class="fet">Sign in required</p><p class="fetx">Please sign in to view favorites</p><button class="lrb" style="margin-top:1rem" onclick="openModal(\'signin\')">Sign In</button></div>';
            }
        };

        // Load Post
        window.loadPost=function(id){
            var post=allPosts.find(function(p){return p.id===id});
            if(!post)return;
            activePostId=id;
            el.att.textContent=post.title||'Untitled';
            if(post.isCoding){
                el.act.innerHTML='üíª '+post.category;
                el.act.classList.add('cd');
            }else{
                el.act.innerHTML='üè∑Ô∏è '+(post.category||'General');
                el.act.classList.remove('cd');
            }
            el.ai.src=post.image||'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=1600&q=80';
            el.aan.textContent=post.author||'Anonymous';
            el.aav.src='https://ui-avatars.com/api/?name='+encodeURIComponent(post.author||'User')+'&background=166534&color=fff&bold=true&size=96';
            el.adt.textContent=post.date||'Recent';
            el.abd.innerHTML=post.content||'<p class="ld dc">'+post.title+'</p>';
            if(post.tags&&post.tags.length>0){
                el.atg.innerHTML='<span class="artgl">Tags:</span>'+post.tags.map(function(t){return'<a href="#" class="tg">#'+t+'</a>'}).join('');
            }else{
                el.atg.innerHTML='';
            }
            document.querySelectorAll('.pwi').forEach(function(i){i.classList.toggle('ac',i.dataset&&i.dataset.postId===id)});
            updateFavBtn();
            window.scrollTo({top:0,behavior:'smooth'});
            setupViews(id);
            setupComments(id);
            showToast('Article loaded!');
        };

        // Views
        var viewsUnsub=null;
        function setupViews(id){
            var viewsRef=ref(db,'posts/'+id+'/views');
            runTransaction(viewsRef,function(c){return(c||0)+1});
            if(viewsUnsub)viewsUnsub();
            viewsUnsub=onValue(viewsRef,function(snap){
                var v=snap.val()||0;
                el.vc.textContent=v.toLocaleString()+' views';
                var p=allPosts.find(function(x){return x.id===id});
                if(p)p.views=v;
            });
        }

        // Comments
        var commentsUnsub=null;
        function setupComments(id){
            if(commentsUnsub)commentsUnsub();
            var commentsRef=ref(db,'comments');
            commentsUnsub=onValue(commentsRef,function(snap){
                var data=snap.val();
                if(!data){
                    el.clt.innerHTML='<div class="cme"><div class="cmei">üí¨</div><p class="cmet">No comments yet</p><p class="cmetx">Be the first!</p></div>';
                    el.cc.textContent='0';
                    return;
                }
                var comments=Object.values(data).filter(function(c){return c.postId===id}).sort(function(a,b){return b.timestamp-a.timestamp});
                el.cc.textContent=comments.length;
                if(comments.length===0){
                    el.clt.innerHTML='<div class="cme"><div class="cmei">üí¨</div><p class="cmet">No comments yet</p><p class="cmetx">Be the first!</p></div>';
                }else{
                    el.clt.innerHTML=comments.map(function(c,i){
                        var avatar=c.photoURL||'https://ui-avatars.com/api/?name='+encodeURIComponent(c.author)+'&background=random&color=fff&bold=true';
                        return'<div class="cmit" style="animation-delay:'+(i*0.05)+'s"><div class="cmin"><img src="'+avatar+'" alt="'+escapeHtml(c.author)+'" class="cmia"><div class="cmic"><div class="cmich"><span class="cmian">'+escapeHtml(c.author)+'</span><span class="cmid">'+c.date+'</span></div><p class="cmitx">'+escapeHtml(c.text)+'</p></div></div></div>';
                    }).join('');
                }
            });
        }

        // Comment Form
        el.cfrm.addEventListener('submit',function(e){
            e.preventDefault();
            if(!currentUser){
                showToast('Please sign in','warning');
                openModal('signin');
                return;
            }
            var text=el.ctx.value.trim();
            if(!text)return;
            if(hasBadWords(text)){
                showToast('Please be respectful','error');
                return;
            }
            el.csb.disabled=true;
            el.csb.textContent='‚è≥ Posting...';
            var commentsRef=ref(db,'comments');
            push(commentsRef,{
                postId:activePostId,
                author:currentUser.displayName||currentUser.email.split('@')[0],
                photoURL:currentUser.photoURL||null,
                userId:currentUser.uid,
                text:text,
                date:formatDate(Date.now()),
                timestamp:Date.now()
            }).then(function(){
                el.ctx.value='';
                showToast('Comment posted! üí¨');
            }).catch(function(){
                showToast('Failed to post','error');
            }).finally(function(){
                el.csb.disabled=false;
                el.csb.textContent='‚úàÔ∏è Post';
            });
        });

        // Trending
        var postsRef=ref(db,'posts');
        onValue(postsRef,function(snap){
            var data=snap.val();
            allPosts=[...defaultPosts];
            if(data){
                Object.entries(data).forEach(function(entry){
                    var key=entry[0],val=entry[1];
                    var idx=allPosts.findIndex(function(p){return p.id===key});
                    if(idx>=0){
                        if(val.views)allPosts[idx].views=val.views;
                    }else{
                        allPosts.push(Object.assign({id:key},val));
                    }
                });
            }
            renderTrending(allPosts);
            renderFavorites();
        });

        function renderTrending(posts){
            var sorted=posts.slice().sort(function(a,b){return(b.views||0)-(a.views||0)});
            el.tl.innerHTML=sorted.map(function(p,i){
                var isFav=userFavorites.indexOf(p.id)!==-1;
                return'<div class="pwi '+(p.id===activePostId?'ac':'')+'" onclick="loadPost(\''+p.id+'\')"><span class="pwr">'+(i+1)+'</span><div class="pwc"><h4 class="pwit">'+escapeHtml(p.title||'Untitled')+'</h4><div class="pwim"><span>'+(p.views||0).toLocaleString()+' views</span><span class="pwimc '+(p.isCoding?'cd':'')+'">'+p.category+'</span>'+(isFav?'<span style="color:var(--x)">‚ù§Ô∏è</span>':'')+'</div></div></div>';
            }).join('');
        }

        // Search
        el.si.addEventListener('input',function(e){
            var term=e.target.value.toLowerCase().trim();
            if(!term){renderTrending(allPosts);return}
            var filtered=allPosts.filter(function(p){
                return(p.title&&p.title.toLowerCase().indexOf(term)!==-1)||(p.category&&p.category.toLowerCase().indexOf(term)!==-1);
            });
            renderTrending(filtered);
        });

        // Share
        window.shareTwitter=function(){
            var t=el.att.textContent,u=window.location.href;
            window.open('https://twitter.com/intent/tweet?url='+encodeURIComponent(u)+'&text='+encodeURIComponent(t),'_blank');
        };

        window.copyLink=function(){
            navigator.clipboard.writeText(window.location.href).then(function(){showToast('Link copied! üìã')});
        };

        // Newsletter
        el.nlf.addEventListener('submit',function(e){
            e.preventDefault();
            showToast('Thanks for subscribing! üéâ');
            e.target.reset();
        });

        // Init
        loadPost(activePostId);
    </script>
</body>
</html>
